{"ts":1365109069719,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1365109044278,"patch":[[{"diffs":[[1,"// sns.js\r\n// need snsSettings\r\nif (typeof console == \"undefined\") {    \r\n\twindow.logStack = new Array();\r\n\twindow.console = {\r\n\t\t\"log\": function (s) {\r\n\t\t\tlogStack.push(s);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nwindow.snsService = {\r\n\t//----------------------------------------------------------------------\r\n\t// Facebook \r\n\t//----------------------------------------------------------------------\r\n\t\"FacebookInit\": function (settings, callback) {\r\n\t\twindow.fbAsyncInit = function () {\r\n\t\t\tif (typeof FB == 'undefined') {\r\n\t\t\t\tsetTimeout(function () {\r\n\t\t\t\t\tconsole.log(\"FB is not defined. Retrying.\")\r\n\t\t\t\t\tsnsService.FacebookInit(settings, callback);\r\n\t\t\t\t}, 1000);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t// init the FB JS SDK\r\n\t\t\t\tFB.init({\r\n\t\t\t\t\tappId: settings.FACEBOOK_APP_ID, // App ID from the App Dashboard\r\n\t\t\t\t\tchannelUrl: '//' + settings.GSocialUrl + '/channel.html', // Channel File for x-domain communication\r\n\t\t\t\t\tstatus: true, // check the login status upon init?\r\n\t\t\t\t\tcookie: true, // set sessions cookies to allow your server to access the session?\r\n\t\t\t\t\txfbml: true  // parse XFBML tags on this page?\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Additional initialization code such as adding Event Listeners goes here\t\t\r\n\t\t\t\tFB.getLoginStatus(function (response) {\r\n\t\t\t\t\tif (callback)\r\n\t\t\t\t\t\tcallback(response);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Load the SDK's source Asynchronously\r\n\t\t// Note that the debug version is being actively developed and might \r\n\t\t// contain some type checks that are overly strict. \r\n\t\t// Please report such bugs using the bugs tool.\r\n\t\t(function (d, debug) {\r\n\t\t\tvar js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0];\r\n\t\t\tif (d.getElementById(id)) { return; }\r\n\t\t\tjs = d.createElement('script'); js.id = id; js.async = true;\r\n\t\t\tjs.src = \"//connect.facebook.net/ko_KR/all\" + (debug ? \"/debug\" : \"\") + \".js\";\r\n\t\t\tref.parentNode.insertBefore(js, ref);\r\n\t\t} (document, /*debug*/false));\r\n\t}\r\n\t, \"FacebookLogin\": function (settings, callback) {\r\n\t\tFB.login(function (response) {\r\n\t\t\tif (response.authResponse) {\r\n\t\t\t\tvar authResponse = response.authResponse;\r\n\t\t\t\tFB.api('/me', function (response) {\r\n\t\t\t\t\tvar authResult = $.extend({}, authResponse, response);\r\n\t\t\t\t\tcallback(authResult);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tconsole.log('FB login cancelled');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t, \"FacebookFriends\": function (settings, callback) {\r\n\t\tFB.api('/me/friends', function (response) {\r\n\t\t\tif (response.data) {\r\n\t\t\t\tcallback(response.data);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tconsole.log('FB error get friends');\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t, \"FacebookPostMessage\": function (settings, to, link, pictureUrl, name, caption, description, redirect_uri, callback) {\r\n\t\tvar obj = {\r\n\t\t\tmethod: 'feed',\r\n\t\t\tname: name,\r\n\t\t\tto: to,\r\n\t\t\tlink: link,\r\n\t\t\tpicture: pictureUrl,\r\n\t\t\tcaption: caption,\r\n\t\t\tdescription: description\r\n\t\t\t//redirect_uri: redirect_uri // redirect_url 이 있으면 안됨....\r\n\t\t};\r\n\r\n\t\tFB.ui(obj, callback);\r\n\t}\r\n\t//----------------------------------------------------------------------\r\n\t// Planet X Cyworld\r\n\t//----------------------------------------------------------------------\t\r\n\t// It has moved to server side.\r\n\t//----------------------------------------------------------------------\r\n\t// Twitter\r\n\t//----------------------------------------------------------------------\r\n\t, \"TwitterShare\": function (settings, url, text, callback) {\t\t\r\n\t\t$.popup(settings.TWITTER_SHARE_URL + '?url=' + encodeURIComponent(url) + '&text=' + encodeURIComponent(text), 600, 400);\t\t\r\n\t}\t\t\r\n\t//----------------------------------------------------------------------\r\n\t// Me2Day\r\n\t//----------------------------------------------------------------------\r\n\t, \"Me2DayLogin\": function (settings) {\r\n\t\tajaxService.Post(settings.GetMe2DayAuthUrl\r\n\t\t\t, {}\r\n\t\t\t, function (model) {\r\n\t\t\t\t$.popup(model.AuthUrl, 1024, 800);\r\n\t\t\t});\r\n\t}\r\n\t//----------------------------------------------------------------------\r\n\t// Yozm\r\n\t//----------------------------------------------------------------------\r\n\t, \"YozmPostMessage\": function (settings, link, prefix) {\r\n\t\t$.popup(settings.YozmPostUrl + \"?link=\" + encodeURIComponent(link) + \"&prefix=\" + encodeURIComponent(prefix) + \"&source_id=none\", 800, 600);\r\n\t}\r\n\t//----------------------------------------------------------------------\r\n\t// MyPeople\r\n\t//----------------------------------------------------------------------\r\n\t, \"MyPeopleShare\": function (settings, link, prefix) {\r\n\t\t$.popup(settings.MyPeopleShareUrl + \"?link=\" + encodeURIComponent(link) + \"&prefix=\" + encodeURIComponent(prefix) + \"&source_id=none\", 800, 600);\r\n\t}\r\n}"]],"start1":0,"start2":0,"length1":0,"length2":4517}]],"length":4517,"saved":false}
