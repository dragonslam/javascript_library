{"ts":1365108980565,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1365108957295,"patch":[[{"diffs":[[1,"(function ($) {\r\n\r\n    //--{{ create postData Form with model --//\r\n\t$.fn.postDataForm = function (options) {\r\n\t\tvar settings = $.extend({}, {}, options);\r\n\r\n\t\tvar formId = settings.id;\r\n\t\tvar formModel = settings.model;\r\n\t\tvar action = settings.action;\r\n\t\tvar target = settings.target;\r\n\r\n\t\tthis.append('<form id=\"' + formId + '\" name=\"' + formId + '\"></form>');\r\n\t\t$('#' + formId).append('<input type=hidden name=postData />')\r\n\t\t$('#' + formId).find('[name=\"postData\"]').val(JSON.stringify(formModel));\r\n\t\t$('#' + formId).attr('action', action)\r\n\t\t\t\t.attr('target', target)\r\n\t\t\t\t.attr('method', 'POST')\r\n\t\t$('#' + formId)[0].submit();\r\n\t}\r\n\t//-}}{ create postModel form from model --//\r\n\r\n\t//--{{ javascript 템플릿 --//\r\n\t$.fn.render = function (options) {\r\n\t\t// settings 설정\r\n\t\tvar settings = $.extend({}, { append: false, wrap: 'span' }, options);\r\n\r\n\t\t// append 가 아니면 기존 element 모두 삭제\r\n\t\tif (settings.append == false) this.html(\"\");\r\n\r\n\t\tvar result = $.processRender(settings.template\r\n\t\t\t, settings.model\r\n\t\t\t, settings.subTemplate);\r\n\r\n\t\t// for performance use createDocumentFragment\t\t\t\t\t\r\n\t\tvar wrap = document.createElement(settings.wrap);\r\n\t\twrap.innerHTML = result;\r\n\r\n\t\tvar frag = document.createDocumentFragment();\r\n\t\tfrag.appendChild(wrap);\r\n\r\n\t\tdocument.getElementById(this.attr('id')).appendChild(frag);\r\n\r\n\t\treturn this;\r\n\t}\r\n\r\n\t$.processRender = function (tid, obj, subTemplate) {\r\n\t\t// Leave whitespaces such as newline and space in template string. Don't trim them.\r\n\t\tvar tmpl = $('#' + tid).html()\r\n\r\n\t\t// obj 가 array 인 경우와 아닌 경우로 구분\r\n\t\tif ($.isArray(obj) == false) {\r\n\t\t\treturn $.processTemplate(tmpl, obj, subTemplate);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tvar result = \"\";\r\n\t\t\t$.each(obj, function (k, v) {\r\n\t\t\t\tresult += $.processTemplate(tmpl, v, subTemplate);\r\n\t\t\t});\r\n\t\t\treturn result;\r\n\t\t}\r\n\t}\r\n\r\n\t$.processTemplate = function (tmpl, obj, subTemplate) {\r\n\t\treturn tmpl.replace(/\\{\\{([\\w:.]+)\\}\\}/g, function (str, prop) {\r\n\r\n\t\t\t// formatter 여부 체크\r\n\t\t\tvar tokens = prop.split(':');\r\n\t\t\tvar p = tokens[0];\r\n\t\t\tvar f = tokens.length == 2 ? tokens[1] : undefined;\r\n\r\n\t\t\tif (obj.hasOwnProperty(p) == true) {\r\n\t\t\t\t// obj[prop] 이 array 여부로 구분\r\n\t\t\t\tif ($.isArray(obj[p]) == false) {\r\n\t\t\t\t\tif (!f) {\r\n\t\t\t\t\t\treturn obj[p];\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\treturn eval(f).call(null, obj[p], null); // fix for escaping quote in argument\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn $.processRender(subTemplate[p], obj[p], subTemplate);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\treturn \"\";\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t//--}} javascript 템플릿 --//\r\n\r\n\t//--{{ 레이어 팝업 --//\r\n\t$.fn.popLayer = function (options) {\r\n\t\t// settings 설정\r\n\t\tvar settings = $.extend({}, {\r\n\t\t\tclose: this.attr('id')\r\n\t\t}, options);\r\n\r\n\t\t// reference current jquery object\r\n\t\t$this = this;\r\n\r\n\t\t$('body').append($this); // layer 의 z-index 가 ie7 이하에서 제대로 적용되도록 body 의 child 로 만든다.\r\n\r\n\t\t// save scrollTop\r\n\t\t$.saveScrollTop();\r\n\r\n\t\t// create overlay\r\n\t\tvar overlay = $('<div/>')\r\n\t\t\t\t.attr(\"id\", \"overlay\")\r\n\t\t\t\t.css('background-color', '#000')\r\n\t\t\t    .css('opacity', '.7')\r\n\t\t\t    .css('filter', 'alpha(opacity=70')\r\n\t\t\t    .css('position', 'fixed')\r\n\t\t\t\t.css('top', '0')\r\n\t\t\t\t.css('left', '0')\r\n\t\t\t    .css('width', '100%')\r\n\t\t\t\t.css('height', '100%')\r\n\t\t\t    .css('z-index', 20000)\r\n\t\t\t\t.appendTo($('body'))\r\n\t\t\t\t.click(function () {\r\n\t\t\t\t\t$this.closeLayer(options); // IE6,IE7 에서 overlay 가 popup layer 를 가리기 때문에 닫기 위해서 설정함\r\n\t\t\t\t});\r\n\r\n\t\t// resize\t\t\t\t\t\t\r\n\t\tif (settings.width) {\r\n\t\t\tthis.css('width', settings.width);\r\n\t\t}\r\n\t\tif (settings.height) {\r\n\t\t\tthis.css('height', settings.height);\r\n\t\t}\r\n\r\n\t\t// show layer\r\n\t\tthis.css('display', 'block')\r\n\t\t\t.css('background-color', '#FFF'); // 기본적으로 흰색 배경을 준다.\r\n\r\n\t\t// center\r\n\t\tthis.center();\r\n\r\n\t\t// iframe loading\r\n\t\tif (settings.iframe) {\r\n\r\n\t\t\t// show iframe \r\n\t\t\tthis.find('#' + settings.iframe)\r\n\t\t\t\t.css('display', 'block')\r\n\t\t\t\t.css('width', settings.width)\r\n\t\t\t\t.css('height', settings.height)\r\n\t\t\t\t.attr('frameborder', 0)\r\n\t\t\t\t.attr('scrolling', 'no');\r\n\r\n\t\t\t// iframe 에서 layer 를 닫기위해 layerId 와 iframeId 를 querystring 으로 전달한다.\r\n\t\t\tvar src = settings.iframeSrc\r\n\t\t\tif (src.indexOf('?') == -1) {\r\n\t\t\t\tsrc += '?_layerId=' + this.attr('id') + '&_iframeId=' + settings.iframe;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tsrc += '&_layerId=' + this.attr('id') + '&_iframeId=' + settings.iframe;\r\n\t\t\t}\r\n\r\n\t\t\t// assign iframeModel \r\n\t\t\tif (settings.iframeModel) {\r\n\t\t\t\t// create iframeForm\r\n\t\t\t\tif (!$('#iframeForm')[0]) {\r\n\t\t\t\t\t$('body').append('<form id=\"iframeForm\"></form>');\r\n\t\t\t\t\t$('#iframeForm').append('<input type=hidden name=postData />')\r\n\t\t\t\t}\r\n\t\t\t\t$('#iframeForm').find('[name=\"postData\"]').val(JSON.stringify(settings.iframeModel));\r\n\r\n\t\t\t\t$('#iframeForm').attr('action', src)\r\n\t\t\t\t.attr('target', settings.iframe)\r\n\t\t\t\t.attr('method', 'POST')\r\n\r\n\t\t\t\t$('#iframeForm')[0].submit();\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tthis.find('#' + settings.iframe)\r\n\t\t\t\t\t.attr(\"src\", src);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// set close event\t\t\r\n\t\t$('#' + settings.close).click(function () {\r\n\t\t\t$('#' + $this.attr('id')).closeLayer({\r\n\t\t\t\tiframe: settings.iframe\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t$.fn.closeLayer = function (options) {\r\n\t\tvar settings = $.extend({}, {}, options);\r\n\r\n\t\tif (settings.iframe) {\r\n\t\t\t$(this).find('#' + settings.iframe)\r\n\t\t\t\t.attr(\"src\", \"about:blank\")\r\n\t\t\t\t.css('display', 'none')\r\n\t\t}\r\n\t\t// hide layer\r\n\t\t$(this).css('display', 'none');\r\n\t\t// remove overlay\r\n\t\t$('#overlay').remove();\r\n\r\n\t\t// restore scrollTop\r\n\t\t$.restoreScrollTop();\r\n\t}\r\n\r\n\t$.closeLayer = function (layerId, iframeId) {\r\n\t\t$('#' + layerId).closeLayer({\r\n\t\t\tiframe: iframeId\r\n\t\t});\r\n\t}\r\n\r\n\t$.closeParentLayer = function () {\r\n\t\tparent.$.closeLayer($.getParameter('_layerId'), $.getParameter('_iframeId'));\r\n\t}\r\n\r\n\t$.getParameter = function (name) {\r\n\t\tname = name.replace(/[\\[]/, \"\\\\\\[\").replace(/[\\]]/, \"\\\\\\]\");\r\n\t\tvar regexS = \"[\\\\#?&]\" + name + \"=([^&#]*)\";\r\n\t\tvar regex = new RegExp(regexS);\r\n\t\tvar results = regex.exec(window.location.search != \"\" ? window.location.search : window.location.hash);\r\n\t\tif (results == null)\r\n\t\t\treturn \"\";\r\n\t\telse\r\n\t\t\treturn decodeURIComponent(results[1].replace(/\\+/g, \" \"));\r\n\t}\r\n\t//--}} 레이어 팝업 --//\r\n\r\n\t//--{{스크롤 위치 저장/복원 --//\t\r\n\t$.saveScrollTop = function () {\r\n\t\twindow.prevScrollTop = $(window).scrollTop();\r\n\t}\r\n\r\n\t$.restoreScrollTop = function () {\r\n\t\t$(window).scrollTop(window.prevScrollTop);\r\n\t}\r\n\t//--}} 스크롤 위치 저장/복원 --//\r\n\r\n\t//--{{ 레이어 중앙정렬 --//\r\n\t$.fn.center = function () {\r\n\t\tthis.css(\"position\", \"fixed\");\r\n\t\tthis.css(\"top\", \"50%\");\r\n\t\tthis.css(\"margin-top\", \"-\" + parseInt(this.css('height')) / 2 + \"px\");\r\n\t\tthis.css(\"left\", Math.max(0, ($(window).width() - parseInt(this.css('width'))) / 2 + $(window).scrollLeft()) + \"px\");\r\n\t\tthis.css(\"z-index\", 20001);\r\n\t\treturn this;\r\n\t}\r\n\t//--}} 레이어 중앙정렬 --//\r\n\r\n\t//--{{ 최상위 페이지 이동 --//\r\n\t$.goto = function (url) {\r\n\t\tif (window != top) {\r\n\t\t\ttop.location = url;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tlocation = url;\r\n\t\t}\r\n\t}\r\n\t//--}} 최상위 페이지 이동 --//\r\n\r\n\t//--{{ 팝업 윈도우 --//\r\n\t$.popup = function (url, width, height) {\r\n\t\tvar windowProperties = \"toolbar = 0, scrollbars = 1, location = 0, statusbar = 0, menubar = 0, resizable = 1, width = \" + width + \", height = \" + height + \", left = 50, top = 50\";\r\n\t\treturn window.open(url, \"\", windowProperties);\r\n\t}\r\n\t//--}} 팝업 윈도우 --//\r\n\r\n\t//--{{ 변수의 값 존재유무 체크 --//\r\n\t$.hasValue = function (v) {\r\n\t\tif (typeof v == 'undefined') {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse if (v == null) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\telse if (typeof v == 'string') {\r\n\t\t\tif (v.length == 0)\r\n\t\t\t\treturn false;\r\n\t\t\telse\r\n\t\t\t\treturn true;\r\n\t\t}\r\n\t\telse {\r\n\t\t\treturn true; // ignore other type\r\n\t\t}\r\n\t}\r\n\t//--}} 변수의 값 존재유무 체크 --//\r\n\r\n\t//--{{ 이메일 주소 체크 --// \r\n\t$.emailCheck = function (email) {\r\n\t\tif ($.hasValue(email) == false) {\r\n\t\t\talert(\"이메일 주소를 입력하세요.\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n\t\tif (re.test(email) == false) {\r\n\t\t\talert(\"올바르지 않은 이메일 주소입니다. 다시 입력해 주세요.\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif ($.sTextByteLen(email) > 50) {\r\n\t\t\talert(\"이메일 주소가 너무 길어 입력이 되지 않습니다. 다른 이메일 주소를 선택하여 주십시오.\");\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tvar tokens = email.split('@');\r\n\t\tvar emailDomain = tokens[1];\r\n\t\tif (emailDomain.indexOf(\"never.com\") > -1 || emailDomain.indexOf(\"gmarket.co.kr\") > -1) {\r\n\t\t\talert(\"등록이 불가능한 이메일 주소입니다. \\nnever.com, gmarket.co.kr 외에 다른 이메일 주소를 입력해주세요\");\t\t\t\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\t$.sTextByteLen = function(sText) {\r\n\t\tvar sTextLen = 0;\r\n\r\n\t\tfor (var i = 0; i < sText.length; i++) {\r\n\t\t\tif (sText.charCodeAt(i) > 128) {\r\n\t\t\t\tsTextLen += 2;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tsTextLen += 1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sTextLen;\r\n\t}\r\n\t//--}} 이메일 주소 체크 --//\r\n\r\n\t//--{{ 쿠키 삭제하기 --//\r\n\t$.deleteCookie = function(c_name) {\r\n\t\tdocument.cookie = encodeURIComponent(c_name) + \"=deleted; expires=\" + new Date(0).toUTCString();\r\n\t}\r\n\t//--}} 쿠키 삭제하기 --//\r\n})(jQuery);\t"]],"start1":0,"start2":0,"length1":0,"length2":8828}]],"length":8828,"saved":false}
